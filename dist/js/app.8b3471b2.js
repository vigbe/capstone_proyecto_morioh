(function(){"use strict";var e={635:function(e,i,t){var o=t(751),r=t(641);const a={id:"app"};function l(e,i,t,o,l,s){const n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(n)])}var s={name:"App"},n=t(621);const d=(0,n.A)(s,[["render",l],["__scopeId","data-v-4c2d7571"]]);var c=d,u=t(220),p=t(33);const m={class:"home"},h={class:"nav-bar"},b={class:"user-info-container"},k={class:"user-info"},f={class:"menu-container"},v={class:"menu-items"};function _(e,i,t,o,a,l){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("nav",h,[(0,r.Lk)("div",b,[(0,r.Lk)("div",k,[(0,r.Lk)("span",null,(0,p.v_)(a.userName)+" ("+(0,p.v_)(a.userType)+")",1)]),i[1]||(i[1]=(0,r.Lk)("div",{class:"company-name"},[(0,r.Lk)("span",null,"LUVI Brokers")],-1))]),(0,r.Lk)("div",f,[(0,r.Lk)("div",v,[(0,r.bF)(s,{to:"/solicitudes",class:"menu-item"},{default:(0,r.k6)((()=>i[2]||(i[2]=[(0,r.eW)("Solicitudes")]))),_:1}),(0,r.bF)(s,{to:"/marketplace",class:"menu-item"},{default:(0,r.k6)((()=>i[3]||(i[3]=[(0,r.eW)("Marketplace")]))),_:1}),(0,r.bF)(s,{to:"/clientes",class:"menu-item"},{default:(0,r.k6)((()=>i[4]||(i[4]=[(0,r.eW)("Clientes")]))),_:1}),"Inmobiliaria"===a.userType?((0,r.uX)(),(0,r.Wv)(s,{key:0,to:"/cargar-propiedades",class:"menu-item"},{default:(0,r.k6)((()=>i[5]||(i[5]=[(0,r.eW)("Cargar Propiedades")]))),_:1})):(0,r.Q3)("",!0)]),(0,r.Lk)("button",{onClick:i[0]||(i[0]=(...e)=>l.logout&&l.logout(...e)),class:"logout-button"},"Cerrar Sesión")])]),i[6]||(i[6]=(0,r.Fv)('<div class="solicitudes-container" data-v-4e293cbe><h2 data-v-4e293cbe>Solicitudes</h2><div class="canvas-table" data-v-4e293cbe><table data-v-4e293cbe><thead data-v-4e293cbe><tr data-v-4e293cbe><th data-v-4e293cbe>ID</th><th data-v-4e293cbe>Nombre del Cliente</th><th data-v-4e293cbe>Fecha de Solicitud</th><th data-v-4e293cbe>Estado</th></tr></thead><tbody data-v-4e293cbe><tr data-v-4e293cbe><td data-v-4e293cbe>1</td><td data-v-4e293cbe>Juan Pérez</td><td data-v-4e293cbe>2024-10-15</td><td data-v-4e293cbe>Pendiente</td></tr><tr data-v-4e293cbe><td data-v-4e293cbe>2</td><td data-v-4e293cbe>Ana Gómez</td><td data-v-4e293cbe>2024-10-16</td><td data-v-4e293cbe>En Proceso</td></tr></tbody></table></div></div>',1))])}var g=t(230);const L="https://fryyhsdjtmuqakazrirz.supabase.co",y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyeXloc2RqdG11cWFrYXpyaXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjU0MTg0ODEsImV4cCI6MjA0MDk5NDQ4MX0.bwkZKDcO6094qBr-4qSrh0ksT-5WUROSQZqpSn0h5f0",w=(0,g.UU)(L,y);var C=w,E={data(){return{userName:"",userType:""}},async created(){const e=JSON.parse(localStorage.getItem("user"));e&&e.id?await this.fetchUserData(e.id):this.$router.push({name:"Login"})},methods:{async fetchUserData(e){try{let{data:i,error:t}=await C.from("broker").select("*").eq("user_id",e).single();if(t)throw t;if(i)return this.userName=i.nombre,void(this.userType="Broker")}catch(i){console.error("Error fetching user data:",i.message)}try{let{data:i,error:t}=await C.from("inmobiliaria").select("*").eq("user_id",e).single();if(t)throw t;i&&(this.userName=i.nombre,this.userType="Inmobiliaria")}catch(i){console.error("Error fetching user data:",i.message)}},async logout(){const{error:e}=await C.auth.signOut();e?console.error("Error al cerrar sesión:",e.message):(localStorage.removeItem("user"),this.$router.push({name:"Login"}))}}};const S=(0,n.A)(E,[["render",_],["__scopeId","data-v-4e293cbe"]]);var I=S;const F={class:"login"},A={class:"form-submit-container"},O={key:0,class:"loader"},U={key:1,class:"success-message"},X={key:0,class:"error-message"},q={class:"form-link"};function D(e,i,t,a,l,s){const n=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",F,[i[9]||(i[9]=(0,r.Lk)("div",{class:"title-container"},[(0,r.Lk)("h1",{class:"title"},"Inicia sesión")],-1)),(0,r.Lk)("form",{onSubmit:i[2]||(i[2]=(0,o.D$)(((...e)=>s.login&&s.login(...e)),["prevent"])),class:"form"},[i[7]||(i[7]=(0,r.Lk)("label",{class:"form-label",for:"email"},"Correo Electrónico:",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"email",id:"email","onUpdate:modelValue":i[0]||(i[0]=e=>l.email=e),required:"",placeholder:"Correo Electrónico"},null,512),[[o.Jo,l.email]]),i[8]||(i[8]=(0,r.Lk)("label",{class:"form-label",for:"password"},"Contraseña:",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"password",id:"password","onUpdate:modelValue":i[1]||(i[1]=e=>l.password=e),required:"",placeholder:"Contraseña"},null,512),[[o.Jo,l.password]]),(0,r.Lk)("div",A,[i[4]||(i[4]=(0,r.Lk)("input",{class:"form-submit",type:"submit",value:"Login"},null,-1)),l.loading?((0,r.uX)(),(0,r.CE)("div",O)):(0,r.Q3)("",!0),l.loginSuccess?((0,r.uX)(),(0,r.CE)("div",U,i[3]||(i[3]=[(0,r.Lk)("i",{class:"fas fa-check-circle"},null,-1),(0,r.eW)(" Login exitoso ")]))):(0,r.Q3)("",!0)]),l.errorMessage?((0,r.uX)(),(0,r.CE)("div",X,(0,p.v_)(l.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",q,[(0,r.Lk)("label",null,[i[6]||(i[6]=(0,r.eW)("¿No tienes una cuenta? ")),(0,r.bF)(n,{to:"/registro"},{default:(0,r.k6)((()=>i[5]||(i[5]=[(0,r.eW)("Regístrate aquí")]))),_:1})])])],32)])}var T={data(){return{email:"",password:"",errorMessage:"",loading:!1,loginSuccess:!1}},methods:{async login(){this.loading=!0,this.errorMessage="",this.loginSuccess=!1;try{const{data:{user:e,session:i},error:t}=await C.auth.signInWithPassword({email:this.email,password:this.password});if(t)throw t;const o=e.id;if(localStorage.setItem("user",JSON.stringify({id:o})),t)throw t;localStorage.setItem("user",JSON.stringify(e)),this.loginSuccess=!0,this.loading=!1,setTimeout((()=>{this.$router.push({name:"Home"})}),1500)}catch(e){this.errorMessage=`Error en la autenticación: ${e.message}`,this.loading=!1,console.error(e)}}}};const N=(0,n.A)(T,[["render",D],["__scopeId","data-v-0d22f90f"]]);var W=N;const P={class:"register"},R={class:"form-submit-container"},V={key:0,class:"loader"},z={key:1,class:"success-message"},$={key:0,class:"error-message"},J={class:"form-link"};function M(e,i,t,a,l,s){const n=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",P,[i[11]||(i[11]=(0,r.Lk)("div",{class:"title-container"},[(0,r.Lk)("h1",{class:"title"},"Registro de Usuario")],-1)),(0,r.Lk)("form",{onSubmit:i[3]||(i[3]=(0,o.D$)(((...e)=>s.register&&s.register(...e)),["prevent"])),class:"form"},[i[8]||(i[8]=(0,r.Lk)("label",{class:"form-label",for:"email"},"Correo Electrónico",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"email",id:"email","onUpdate:modelValue":i[0]||(i[0]=e=>l.email=e),required:"",placeholder:"Correo Electrónico"},null,512),[[o.Jo,l.email]]),i[9]||(i[9]=(0,r.Lk)("label",{class:"form-label",for:"password"},"Contraseña",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"password",id:"password","onUpdate:modelValue":i[1]||(i[1]=e=>l.password=e),required:"",placeholder:"Contraseña"},null,512),[[o.Jo,l.password]]),i[10]||(i[10]=(0,r.Lk)("label",{class:"form-label",for:"confirmPassword"},"Confirmar Contraseña",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"password",id:"confirmPassword","onUpdate:modelValue":i[2]||(i[2]=e=>l.confirmPassword=e),required:"",placeholder:"Confirmar Contraseña"},null,512),[[o.Jo,l.confirmPassword]]),(0,r.Lk)("div",R,[i[5]||(i[5]=(0,r.Lk)("input",{class:"form-submit",type:"submit",value:"Registrar"},null,-1)),l.loading?((0,r.uX)(),(0,r.CE)("div",V)):(0,r.Q3)("",!0),l.registerSuccess?((0,r.uX)(),(0,r.CE)("div",z,i[4]||(i[4]=[(0,r.Lk)("i",{class:"fas fa-check-circle"},null,-1),(0,r.eW)(" Registro exitoso ")]))):(0,r.Q3)("",!0)]),l.errorMessage?((0,r.uX)(),(0,r.CE)("div",$,(0,p.v_)(l.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",J,[(0,r.Lk)("label",null,[i[7]||(i[7]=(0,r.eW)("¿Ya tienes una cuenta? ")),(0,r.bF)(n,{to:"/"},{default:(0,r.k6)((()=>i[6]||(i[6]=[(0,r.eW)("Inicia sesión aquí")]))),_:1})])])],32)])}var j={data(){return{email:"",password:"",confirmPassword:"",errorMessage:"",loading:!1,registerSuccess:!1}},methods:{async register(){if(this.loading=!0,this.errorMessage="",this.registerSuccess=!1,this.password!==this.confirmPassword)return this.errorMessage="Las contraseñas no coinciden.",void(this.loading=!1);try{const{data:e,error:i}=await C.auth.signUp({email:this.email,password:this.password});if(i)throw i;const t=e.user?.id;t&&localStorage.setItem("user",JSON.stringify({id:t,email:this.email,password:this.password})),this.registerSuccess=!0,this.loading=!1,setTimeout((()=>{this.$router&&this.$router.push({name:"Login"})}),1500)}catch(e){this.errorMessage=`Error en el registro: ${e.message}`,this.loading=!1,console.error(e)}}}};const x=(0,n.A)(j,[["render",M],["__scopeId","data-v-bbc22966"]]);var Q=x;const B={class:"register-complete"},K={class:"form-group"},Z={key:0},G={class:"form-group"},H={class:"form-group"},Y={class:"form-group"},ee={key:1},ie={class:"form-group"},te={class:"form-group"},oe={class:"form-group"},re={class:"form-submit-container"},ae={key:0,class:"loader"},le={key:1,class:"success-message"},se={key:2,class:"error-message"};function ne(e,i,t,a,l,s){return(0,r.uX)(),(0,r.CE)("div",B,[i[18]||(i[18]=(0,r.Lk)("div",{class:"title-container"},[(0,r.Lk)("h1",{class:"title"},"Completar Registro")],-1)),(0,r.Lk)("form",{onSubmit:i[7]||(i[7]=(0,o.D$)(((...e)=>s.completeRegistration&&s.completeRegistration(...e)),["prevent"])),class:"form"},[(0,r.Lk)("div",K,[i[9]||(i[9]=(0,r.Lk)("label",{class:"form-label",for:"tipoUsuario"},"Tipo de Usuario",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-input",id:"tipoUsuario","onUpdate:modelValue":i[0]||(i[0]=e=>l.tipoUsuario=e),required:""},i[8]||(i[8]=[(0,r.Lk)("option",{value:""},"Seleccione una opción",-1),(0,r.Lk)("option",{value:"broker"},"Broker",-1),(0,r.Lk)("option",{value:"inmobiliaria"},"Inmobiliaria",-1)]),512),[[o.u1,l.tipoUsuario]])]),"broker"===l.tipoUsuario?((0,r.uX)(),(0,r.CE)("div",Z,[(0,r.Lk)("div",G,[i[10]||(i[10]=(0,r.Lk)("label",{class:"form-label",for:"nombre"},"Nombre",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"text",id:"nombre","onUpdate:modelValue":i[1]||(i[1]=e=>l.nombre=e),required:"",placeholder:"Nombre"},null,512),[[o.Jo,l.nombre]])]),(0,r.Lk)("div",H,[i[11]||(i[11]=(0,r.Lk)("label",{class:"form-label",for:"empresa"},"Empresa",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"text",id:"empresa","onUpdate:modelValue":i[2]||(i[2]=e=>l.empresa=e),required:"",placeholder:"Empresa"},null,512),[[o.Jo,l.empresa]])]),(0,r.Lk)("div",Y,[i[12]||(i[12]=(0,r.Lk)("label",{class:"form-label",for:"telefono"},"Teléfono",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"text",id:"telefono","onUpdate:modelValue":i[3]||(i[3]=e=>l.telefono=e),required:"",placeholder:"Teléfono"},null,512),[[o.Jo,l.telefono]])])])):(0,r.Q3)("",!0),"inmobiliaria"===l.tipoUsuario?((0,r.uX)(),(0,r.CE)("div",ee,[(0,r.Lk)("div",ie,[i[13]||(i[13]=(0,r.Lk)("label",{class:"form-label",for:"nombreInmobiliaria"},"Nombre de la Inmobiliaria",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"text",id:"nombreInmobiliaria","onUpdate:modelValue":i[4]||(i[4]=e=>l.nombreInmobiliaria=e),required:"",placeholder:"Nombre de la Inmobiliaria"},null,512),[[o.Jo,l.nombreInmobiliaria]])]),(0,r.Lk)("div",te,[i[14]||(i[14]=(0,r.Lk)("label",{class:"form-label",for:"direccion"},"Dirección",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"text",id:"direccion","onUpdate:modelValue":i[5]||(i[5]=e=>l.direccion=e),required:"",placeholder:"Dirección"},null,512),[[o.Jo,l.direccion]])]),(0,r.Lk)("div",oe,[i[15]||(i[15]=(0,r.Lk)("label",{class:"form-label",for:"telefonoInmobiliaria"},"Teléfono",-1)),(0,r.bo)((0,r.Lk)("input",{class:"form-input",type:"text",id:"telefonoInmobiliaria","onUpdate:modelValue":i[6]||(i[6]=e=>l.telefonoInmobiliaria=e),required:"",placeholder:"Teléfono"},null,512),[[o.Jo,l.telefonoInmobiliaria]])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",re,[i[17]||(i[17]=(0,r.Lk)("input",{class:"form-submit",type:"submit",value:"Completar Registro"},null,-1)),l.loading?((0,r.uX)(),(0,r.CE)("div",ae)):(0,r.Q3)("",!0),l.registerSuccess?((0,r.uX)(),(0,r.CE)("div",le,i[16]||(i[16]=[(0,r.Lk)("i",{class:"fas fa-check-circle"},null,-1),(0,r.eW)(" Registro completado con éxito ")]))):(0,r.Q3)("",!0)]),l.errorMessage?((0,r.uX)(),(0,r.CE)("div",se,(0,p.v_)(l.errorMessage),1)):(0,r.Q3)("",!0)],32)])}var de={data(){return{tipoUsuario:"",nombre:"",empresa:"",telefono:"",nombreInmobiliaria:"",direccion:"",telefonoInmobiliaria:"",errorMessage:"",loading:!1,registerSuccess:!1}},methods:{async completeRegistration(){this.loading=!0,this.errorMessage="",this.registerSuccess=!1;try{const e=JSON.parse(localStorage.getItem("user"));if(!e||!e.id)throw new Error("Usuario no encontrado. Inicie sesión nuevamente.");let i;if("broker"===this.tipoUsuario){const{error:t}=await C.from("broker").insert({user_id:e.id,email:e.email,nombre:this.nombre,empresa:this.empresa,telefono:this.telefono,fecha_registro:new Date});i=t}else if("inmobiliaria"===this.tipoUsuario){const{error:t}=await C.from("inmobiliaria").insert({user_id:e.id,email:e.email,nombre:this.nombreInmobiliaria,direccion:this.direccion,telefono:this.telefonoInmobiliaria,fecha_registro:new Date});i=t}if(i)throw i;this.registerSuccess=!0,this.loading=!1,setTimeout((()=>{this.$router&&this.$router.push({name:"Home"})}),1500)}catch(e){this.errorMessage=`Error en el registro completo: ${e.message}`,this.loading=!1,console.error(e)}}}};const ce=(0,n.A)(de,[["render",ne],["__scopeId","data-v-fa112e6c"]]);var ue=ce;const pe={class:"marketplace"},me={class:"nav-bar"},he={class:"menu-container"},be={class:"menu-items"},ke={class:"filters"},fe={class:"propiedades-list"},ve={key:0,class:"loading"},_e={key:1,class:"no-results"},ge={class:"propiedad-image"},Le={key:0,class:"carousel-wrapper"},ye=["src","alt"],we={key:0,class:"swiper-pagination"},Ce={class:"propiedad-info"};function Ee(e,i,t,a,l,s){const n=(0,r.g2)("router-link"),d=(0,r.g2)("swiper-slide"),c=(0,r.g2)("swiper");return(0,r.uX)(),(0,r.CE)("div",pe,[(0,r.Lk)("nav",me,[i[10]||(i[10]=(0,r.Lk)("div",{class:"user-info-container"},[(0,r.Lk)("div",{class:"user-info"}),(0,r.Lk)("div",{class:"company-name"},[(0,r.Lk)("span",null,"LUVI Brokers")])],-1)),(0,r.Lk)("div",he,[(0,r.Lk)("div",be,[(0,r.bF)(n,{to:"/home",class:"menu-item"},{default:(0,r.k6)((()=>i[5]||(i[5]=[(0,r.eW)("Home")]))),_:1}),(0,r.bF)(n,{to:"/solicitudes",class:"menu-item"},{default:(0,r.k6)((()=>i[6]||(i[6]=[(0,r.eW)("Solicitudes")]))),_:1}),(0,r.bF)(n,{to:"/marketplace",class:"menu-item"},{default:(0,r.k6)((()=>i[7]||(i[7]=[(0,r.eW)("Marketplace")]))),_:1}),(0,r.bF)(n,{to:"/clientes",class:"menu-item"},{default:(0,r.k6)((()=>i[8]||(i[8]=[(0,r.eW)("Clientes")]))),_:1}),"Inmobiliaria"===e.userType?((0,r.uX)(),(0,r.Wv)(n,{key:0,to:"/cargar-propiedades",class:"menu-item"},{default:(0,r.k6)((()=>i[9]||(i[9]=[(0,r.eW)("Cargar Propiedades")]))),_:1})):(0,r.Q3)("",!0)]),(0,r.Lk)("button",{onClick:i[0]||(i[0]=(...i)=>e.logout&&e.logout(...i)),class:"logout-button"},"Cerrar Sesión")])]),(0,r.Lk)("div",ke,[i[15]||(i[15]=(0,r.Lk)("h2",null,"Filtros",-1)),(0,r.Lk)("label",null,[i[12]||(i[12]=(0,r.eW)(" Tipo de Propiedad: ")),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":i[1]||(i[1]=e=>l.filters.tipo=e)},i[11]||(i[11]=[(0,r.Lk)("option",{value:""},"Todos",-1),(0,r.Lk)("option",{value:"Casa"},"Casa",-1),(0,r.Lk)("option",{value:"Departamento"},"Departamento",-1)]),512),[[o.u1,l.filters.tipo]])]),(0,r.Lk)("label",null,[i[13]||(i[13]=(0,r.eW)(" Precio Máximo: ")),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":i[2]||(i[2]=e=>l.filters.precioMaximo=e),placeholder:"Ej: 1000000"},null,512),[[o.Jo,l.filters.precioMaximo]])]),(0,r.Lk)("label",null,[i[14]||(i[14]=(0,r.eW)(" Ubicación: ")),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":i[3]||(i[3]=e=>l.filters.ubicacion=e),placeholder:"Ej: Santiago"},null,512),[[o.Jo,l.filters.ubicacion]])]),(0,r.Lk)("button",{onClick:i[4]||(i[4]=(...e)=>s.aplicarFiltros&&s.aplicarFiltros(...e))},"Aplicar Filtros")]),(0,r.Lk)("div",fe,[l.loading?((0,r.uX)(),(0,r.CE)("div",ve,"Cargando propiedades...")):0===l.propiedades.length?((0,r.uX)(),(0,r.CE)("div",_e,"No se encontraron propiedades.")):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:2},(0,r.pI)(s.propiedadesFiltradas,(e=>((0,r.uX)(),(0,r.CE)("div",{class:"propiedad",key:e.id},[(0,r.Lk)("div",ge,[e.fotos&&e.fotos.length>0?((0,r.uX)(),(0,r.CE)("div",Le,[(0,r.bF)(c,{options:l.options},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.fotos,((e,i)=>((0,r.uX)(),(0,r.Wv)(d,{key:i},{default:(0,r.k6)((()=>[(0,r.Lk)("img",{src:e.url,alt:e.descripcion},null,8,ye)])),_:2},1024)))),128)),e.fotos.length>1?((0,r.uX)(),(0,r.CE)("div",we)):(0,r.Q3)("",!0)])),_:2},1032,["options"])])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Ce,[(0,r.Lk)("h3",null,(0,p.v_)(e.titulo),1),(0,r.Lk)("p",null,(0,p.v_)(e.descripcion),1),(0,r.Lk)("p",null,"Precio: "+(0,p.v_)(e.precio),1),(0,r.Lk)("p",null,"Ubicación: "+(0,p.v_)(e.ubicacion),1)])])))),128))])])}var Se=t(303),Ie={data(){return{propiedades:[],filters:{tipo:"",precioMaximo:"",ubicacion:""},loading:!0,options:{slidesPerView:1,spaceBetween:10,pagination:{el:".swiper-pagination",clickable:!0},loop:!0}}},computed:{propiedadesFiltradas(){return this.propiedades.filter((e=>(!this.filters.tipo||e.tipo===this.filters.tipo)&&(!this.filters.precioMaximo||e.precio<=this.filters.precioMaximo)&&(!this.filters.ubicacion||e.ubicacion.toLowerCase().includes(this.filters.ubicacion.toLowerCase()))))}},async created(){await this.fetchPropiedades()},methods:{async fetchPropiedades(){try{const{data:e,error:i}=await C.from("propiedad").select("*, foto(*)");if(i)throw i;console.log("Fetched propiedades:",e),this.propiedades=e.map((e=>({...e,fotos:e.foto?Array.isArray(e.foto)?e.foto:[e.foto]:[]})))}catch(e){console.error("Error al obtener propiedades:",e.message)}finally{this.loading=!1}},aplicarFiltros(){}},components:{Swiper:Se.RC,SwiperSlide:Se.qr}};const Fe=(0,n.A)(Ie,[["render",Ee],["__scopeId","data-v-670b96ce"]]);var Ae=Fe,Oe=t.p+"img/edit-icon.a81d0bad.png",Ue=t.p+"img/ver-icon.a4f89159.png",Xe=t.p+"img/delete-icon.ffc2a42f.png";const qe={class:"solicitudes"},De={class:"table-container"},Te={class:"solicitudes-table"},Ne=["onClick"],We=["onClick"],Pe=["onClick"],Re={class:"add-solicitud-container"};function Ve(e,i,t,o,a,l){const s=(0,r.g2)("NavBar"),n=(0,r.g2)("EditFormSolicitud");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(s),(0,r.Lk)("div",qe,[(0,r.Lk)("div",De,[i[3]||(i[3]=(0,r.Lk)("h2",null,"Solicitudes",-1)),(0,r.Lk)("table",Te,[i[2]||(i[2]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID Solicitud"),(0,r.Lk)("th",null,"Fecha de Solicitud"),(0,r.Lk)("th",null,"Estado"),(0,r.Lk)("th",null,"Tipo"),(0,r.Lk)("th",null,"Broker"),(0,r.Lk)("th",null,"Cliente"),(0,r.Lk)("th",null,"Inmobiliaria"),(0,r.Lk)("th",null,"Propiedad"),(0,r.Lk)("th",null,"Acciones")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.tasks,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,p.v_)(e.id_solicitud),1),(0,r.Lk)("td",null,(0,p.v_)(e.fecha_solicitud),1),(0,r.Lk)("td",null,(0,p.v_)(e.estado),1),(0,r.Lk)("td",null,(0,p.v_)(e.tipo),1),(0,r.Lk)("td",null,(0,p.v_)(e.broker_nombre),1),(0,r.Lk)("td",null,(0,p.v_)(e.cliente_nombre),1),(0,r.Lk)("td",null,(0,p.v_)(e.inmobiliaria_nombre),1),(0,r.Lk)("td",null,(0,p.v_)(e.propiedad_titulo),1),(0,r.Lk)("td",null,[(0,r.Lk)("img",{src:Oe,alt:"Editar",title:"Editar",class:"action-icon",onClick:i=>l.editSolicitud(e)},null,8,Ne),(0,r.Lk)("img",{src:Ue,alt:"Ver",title:"Ver",class:"action-icon",onClick:i=>l.viewSolicitud(e.id_solicitud)},null,8,We),(0,r.Lk)("img",{src:Xe,alt:"Eliminar",title:"Eliminar",class:"action-icon",onClick:i=>l.deleteSolicitud(e.id)},null,8,Pe)])])))),128))])])]),(0,r.Lk)("div",Re,[(0,r.Lk)("button",{class:"add-solicitud-button",onClick:i[0]||(i[0]=(...e)=>l.openAddSolicitudForm&&l.openAddSolicitudForm(...e))},"Agregar Solicitud")]),(0,r.bF)(n,{visible:a.showOverlay,isEditing:a.isEditing,solicitudData:a.newSolicitud,clientes:a.clientes,brokers:a.brokers,inmobiliarias:a.inmobiliarias,propiedades:a.propiedades,userType:a.userType,onClose:i[1]||(i[1]=e=>a.showOverlay=!1),onAddSolicitud:l.addSolicitud,onUpdateSolicitud:l.updateSolicitud},null,8,["visible","isEditing","solicitudData","clientes","brokers","inmobiliarias","propiedades","userType","onAddSolicitud","onUpdateSolicitud"])])],64)}const ze={class:"nav-bar"},$e={class:"user-info-container"},Je={class:"user-info"},Me={class:"menu-container"},je={class:"menu-items"};function xe(e,i,t,o,a,l){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",ze,[(0,r.Lk)("div",$e,[(0,r.Lk)("div",Je,[(0,r.Lk)("span",null,(0,p.v_)(a.userName)+" ("+(0,p.v_)(a.userType)+")",1)]),i[1]||(i[1]=(0,r.Lk)("div",{class:"company-name"},[(0,r.Lk)("span",null,"LUVI Brokers")],-1))]),(0,r.Lk)("div",Me,[(0,r.Lk)("div",je,[(0,r.bF)(s,{to:"/solicitudes",class:"menu-item"},{default:(0,r.k6)((()=>i[2]||(i[2]=[(0,r.eW)("Solicitudes")]))),_:1}),(0,r.bF)(s,{to:"/marketplace",class:"menu-item"},{default:(0,r.k6)((()=>i[3]||(i[3]=[(0,r.eW)("Marketplace")]))),_:1}),(0,r.bF)(s,{to:"/clientes",class:"menu-item"},{default:(0,r.k6)((()=>i[4]||(i[4]=[(0,r.eW)("Clientes")]))),_:1}),"Inmobiliaria"===a.userType?((0,r.uX)(),(0,r.Wv)(s,{key:0,to:"/cargar-propiedades",class:"menu-item"},{default:(0,r.k6)((()=>i[5]||(i[5]=[(0,r.eW)("Cargar Propiedades")]))),_:1})):(0,r.Q3)("",!0)]),(0,r.Lk)("button",{onClick:i[0]||(i[0]=(...e)=>l.logout&&l.logout(...e)),class:"logout-button"},"Cerrar Sesión")])])}var Qe={data(){return{userName:"",userType:"",id_broker:null,id_inmobiliaria:null}},async created(){const e=JSON.parse(localStorage.getItem("user"));e&&e.id?await this.fetchUserData(e.id):this.$router.push({name:"Login"})},methods:{async fetchUserData(e){try{const{data:i,error:t}=await C.from("broker").select("*").eq("user_id",e).single();if(t)throw t;if(i)return this.userName=i.nombre,this.userType="Broker",void(this.id_broker=i.id_broker)}catch(i){console.error("Error fetching broker data:",i.message)}try{const{data:i,error:t}=await C.from("inmobiliaria").select("*").eq("user_id",e).single();if(t)throw t;i&&(this.userName=i.nombre,this.userType="Inmobiliaria",this.id_inmobiliaria=i.id_inmobiliaria)}catch(i){console.error("Error fetching inmobiliaria data:",i.message)}},async logout(){const{error:e}=await C.auth.signOut();e?console.error("Error al cerrar sesión:",e.message):(localStorage.removeItem("user"),this.$router.push({name:"Login"}))}}};const Be=(0,n.A)(Qe,[["render",xe],["__scopeId","data-v-02ebbdc4"]]);var Ke=Be;const Ze={key:0,class:"overlay"},Ge={class:"overlay-content"},He={class:"form-group"},Ye={class:"form-group"},ei=["value"],ii={class:"form-group"},ti=["value"],oi={class:"form-group"},ri=["value"],ai={class:"form-group"},li=["value"],si={class:"form-group"},ni={type:"submit"};function di(e,i,t,a,l,s){return t.visible?((0,r.uX)(),(0,r.CE)("div",Ze,[(0,r.Lk)("div",Ge,[(0,r.Lk)("h3",null,(0,p.v_)(t.isEditing?"Editar Solicitud":"Nueva Solicitud"),1),(0,r.Lk)("form",{onSubmit:i[8]||(i[8]=(0,o.D$)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",He,[i[10]||(i[10]=(0,r.Lk)("label",{for:"tipo"},"Tipo de Solicitud",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":i[0]||(i[0]=e=>l.solicitud.tipo=e),id:"tipo",required:"",onChange:i[1]||(i[1]=(...e)=>s.handleTipoChange&&s.handleTipoChange(...e))},i[9]||(i[9]=[(0,r.Lk)("option",{disabled:"",value:""},"Seleccione un tipo",-1),(0,r.Lk)("option",{value:"Nuevo Cliente"},"Nuevo Cliente",-1),(0,r.Lk)("option",{value:"Venta"},"Venta",-1),(0,r.Lk)("option",{value:"Agendamiento"},"Agendamiento",-1)]),544),[[o.u1,l.solicitud.tipo]])]),(0,r.Lk)("div",Ye,[i[12]||(i[12]=(0,r.Lk)("label",{for:"cliente"},"Cliente",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":i[2]||(i[2]=e=>l.solicitud.cliente_id=e),id:"id_cliente",required:""},[i[11]||(i[11]=(0,r.Lk)("option",{disabled:"",value:""},"Seleccione un cliente",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.clientes,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id_cliente,value:e.id_cliente},(0,p.v_)(e.nombre)+" "+(0,p.v_)(e.apellido),9,ei)))),128))],512),[[o.u1,l.solicitud.cliente_id]])]),(0,r.Lk)("div",ii,[i[14]||(i[14]=(0,r.Lk)("label",{for:"inmobiliaria"},"Inmobiliaria",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":i[3]||(i[3]=e=>l.solicitud.id_inmobiliaria=e),id:"id_inmobiliaria",onChange:i[4]||(i[4]=(...e)=>s.filterProperties&&s.filterProperties(...e)),required:""},[i[13]||(i[13]=(0,r.Lk)("option",{disabled:"",value:""},"Seleccione una inmobiliaria",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.inmobiliarias,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id_inmobiliaria,value:e.id_inmobiliaria},(0,p.v_)(e.nombre),9,ti)))),128))],544),[[o.u1,l.solicitud.id_inmobiliaria]])]),"Venta"===l.solicitud.tipo||"Agendamiento"===l.solicitud.tipo?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.Lk)("div",oi,[i[16]||(i[16]=(0,r.Lk)("label",{for:"broker"},"Broker",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":i[5]||(i[5]=e=>l.solicitud.id_broker=e),id:"id_broker",required:""},[i[15]||(i[15]=(0,r.Lk)("option",{disabled:"",value:""},"Seleccione un broker",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.brokers,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id_broker,value:e.id_broker},(0,p.v_)(e.nombre),9,ri)))),128))],512),[[o.u1,l.solicitud.id_broker]])]),(0,r.Lk)("div",ai,[i[18]||(i[18]=(0,r.Lk)("label",{for:"propiedad"},"Propiedad",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":i[6]||(i[6]=e=>l.solicitud.id_propiedad=e),id:"id_propiedad",required:""},[i[17]||(i[17]=(0,r.Lk)("option",{disabled:"",value:""},"Seleccione una propiedad",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.filteredProperties,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id_propiedad,value:e.id_propiedad},(0,p.v_)(e.titulo),9,li)))),128))],512),[[o.u1,l.solicitud.id_propiedad]])])],64)):(0,r.Q3)("",!0),(0,r.Lk)("div",si,[(0,r.Lk)("button",ni,(0,p.v_)(t.isEditing?"Guardar Cambios":"Agregar Solicitud"),1),(0,r.Lk)("button",{type:"button",onClick:i[7]||(i[7]=i=>e.$emit("close"))},"Cancelar")])],32)])])):(0,r.Q3)("",!0)}var ci={props:{visible:Boolean,isEditing:Boolean,solicitudData:Object,clientes:Array,brokers:Array,inmobiliarias:Array,propiedades:Array,userType:String},data(){return{solicitud:{tipo:"",id_cliente:null,id_broker:null,id_inmobiliaria:null,id_propiedad:null},filteredProperties:[]}},watch:{solicitudData:{immediate:!0,handler(e){this.isEditing?(this.solicitud={...e},console.log(e)):this.isEditing||(this.solicitud={tipo:"",id_cliente:null,id_broker:null,id_inmobiliaria:null,id_propiedad:null})}}},methods:{handleTipoChange(){"Nuevo Cliente"===this.solicitud.tipo&&(this.solicitud.id_broker=null,this.solicitud.id_inmobiliaria=null,this.solicitud.id_propiedad=null)},filterProperties(){this.filteredProperties=this.propiedades.filter((e=>e.id_inmobiliaria===this.solicitud.id_inmobiliaria))},submitForm(){this.$emit(this.isEditing?"update-solicitud":"add-solicitud",{...this.solicitud})}}};const ui=(0,n.A)(ci,[["render",di],["__scopeId","data-v-3288ba28"]]);var pi=ui,mi={components:{EditFormSolicitud:pi,NavBar:Ke},data(){return{userName:"",userType:"",id_broker:null,id_inmobiliaria:null,tasks:[],showOverlay:!1,isEditing:!1,brokers:[],inmobiliarias:[],propiedades:[],clientes:[],editSolicitudId:null,newSolicitud:{tipo:"",id_cliente:null,id_broker:null,id_inmobiliaria:null,id_propiedad:null}}},async created(){const e=JSON.parse(localStorage.getItem("user"));e&&e.id?(await this.fetchUserData(e.id),await this.fetchDropdownData(),await this.fetchSolicitudes()):this.$router.push({name:"Login"})},methods:{viewSolicitud(e){this.$router.push({name:"DetalleSolicitud",params:{id_solicitud:e}})},async fetchUserData(e){try{const{data:i,error:t}=await C.from("broker").select("*").eq("user_id",e).single();if(t)throw t;if(i)return this.userName=i.nombre,this.userType="Broker",void(this.id_broker=i.id_broker)}catch(i){console.error("Error fetching user data:",i.message)}try{const{data:i,error:t}=await C.from("inmobiliaria").select("*").eq("user_id",e).single();if(t)throw t;i&&(this.userName=i.nombre,this.userType="Inmobiliaria",this.id_inmobiliaria=i.id_inmobiliaria,this.newSolicitud.id_inmobiliaria=i.id_inmobiliaria)}catch(i){console.error("Error fetching user data:",i.message)}},async fetchDropdownData(){try{const{data:e,error:i}=await C.from("broker").select("id_broker, nombre");if(i)throw i;this.brokers=e;const{data:t,error:o}=await C.from("inmobiliaria").select("id_inmobiliaria, nombre");if(o)throw o;this.inmobiliarias=t;const{data:r,error:a}=await C.from("propiedad").select("id_propiedad, titulo, id_inmobiliaria");if(a)throw a;this.propiedades=r;const{data:l}=await C.from("cliente").select("id_cliente, nombre, apellido");this.clientes=l||[]}catch(e){console.error("Error fetching dropdown data:",e.message)}},async fetchSolicitudes(){try{let e=C.from("solicitud").select("*");"Broker"===this.userType?e=e.eq("id_broker",this.id_broker):"Inmobiliaria"===this.userType&&(e=e.eq("id_inmobiliaria",this.id_inmobiliaria));const{data:i,error:t}=await e;if(t)throw t;this.tasks=i.map((e=>{const i=this.clientes.find((i=>i.id_cliente===e.id_cliente)),t=this.brokers.find((i=>i.id_broker===e.id_broker)),o=this.inmobiliarias.find((i=>i.id_inmobiliaria===e.id_inmobiliaria)),r=this.propiedades.find((i=>i.id_propiedad===e.id_propiedad));return{id_solicitud:e.id_solicitud,fecha_solicitud:this.formatFecha(e.fecha_solicitud),estado:e.estado,tipo:e.tipo,broker_nombre:t?t.nombre:"",inmobiliaria_nombre:o?o.nombre:"",propiedad_titulo:r?r.titulo:"",cliente_nombre:i?`${i.nombre} ${i.apellido}`:""}}))}catch(e){console.error("Error fetching solicitudes:",e.message)}},openAddSolicitudForm(){this.newSolicitud={tipo:"",id_cliente:null,id_broker:"Broker"===this.userType?this.id_broker:null,id_inmobiliaria:"Inmobiliaria"===this.userType?this.id_inmobiliaria:null,id_propiedad:null},this.isEditing=!1,this.showOverlay=!0},editSolicitud(e){this.newSolicitud={tipo:e.tipo,id_cliente:e.cliente_id,id_broker:e.id_broker,id_inmobiliaria:e.id_inmobiliaria,id_propiedad:e.id_propiedad},this.editSolicitudId=e.id_solicitud,this.isEditing=!0,this.showOverlay=!0},async addSolicitud(e){try{const i={fecha_solicitud:new Date,estado:"Pendiente",tipo:e.tipo,id_cliente:e.cliente_id,id_broker:"Nuevo Cliente"===e.tipo?this.id_broker:e.id_broker,id_inmobiliaria:e.id_inmobiliaria,id_propiedad:e.id_propiedad},{data:t,error:o}=await C.from("solicitud").insert([i]);if(o)throw o;this.showOverlay=!1,await this.fetchSolicitudes()}catch(i){console.error("Error adding solicitud:",i.message)}},async updateSolicitud(e){try{const{error:i}=await C.from("solicitud").update({tipo:e.tipo,id_cliente:e.cliente_id,id_broker:e.id_broker,id_inmobiliaria:"Nuevo Cliente"===e.tipo?null:e.id_inmobiliaria,id_propiedad:"Nuevo Cliente"===e.tipo?null:e.id_propiedad}).eq("id_solicitud",this.editSolicitudId);if(i)throw i;this.showOverlay=!1,this.isEditing=!1,await this.fetchSolicitudes()}catch(i){console.error("Error updating solicitud:",i.message)}},async deleteSolicitud(e){try{const{error:i}=await C.from("solicitud").delete().eq("id_solicitud",e);if(i)throw i;await this.fetchSolicitudes()}catch(i){console.error("Error deleting solicitud:",i.message)}},formatFecha(e){return new Intl.DateTimeFormat("es-CL",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e))}}};const hi=(0,n.A)(mi,[["render",Ve],["__scopeId","data-v-92d3e706"]]);var bi=hi;const ki={class:"clientes"},fi={class:"nav-bar"},vi={class:"user-info-container"},_i={class:"user-info"},gi={class:"menu-container"},Li={class:"menu-items"},yi={class:"table-container"},wi={class:"clientes-table"},Ci=["onClick"],Ei=["onClick"],Si={class:"add-client-container"};function Ii(e,i,t,o,a,l){const s=(0,r.g2)("router-link"),n=(0,r.g2)("FormClienteOverlay");return(0,r.uX)(),(0,r.CE)("div",ki,[(0,r.Lk)("nav",fi,[(0,r.Lk)("div",vi,[(0,r.Lk)("div",_i,[(0,r.Lk)("span",null,(0,p.v_)(a.userName)+" ("+(0,p.v_)(a.userType)+")",1)]),i[3]||(i[3]=(0,r.Lk)("div",{class:"company-name"},[(0,r.Lk)("span",null,"LUVI Brokers")],-1))]),(0,r.Lk)("div",gi,[(0,r.Lk)("div",Li,[(0,r.bF)(s,{to:"/solicitudes",class:"menu-item"},{default:(0,r.k6)((()=>i[4]||(i[4]=[(0,r.eW)("Solicitudes")]))),_:1}),(0,r.bF)(s,{to:"/marketplace",class:"menu-item"},{default:(0,r.k6)((()=>i[5]||(i[5]=[(0,r.eW)("Marketplace")]))),_:1}),(0,r.bF)(s,{to:"/clientes",class:"menu-item"},{default:(0,r.k6)((()=>i[6]||(i[6]=[(0,r.eW)("Clientes")]))),_:1}),"Inmobiliaria"===a.userType?((0,r.uX)(),(0,r.Wv)(s,{key:0,to:"/cargar-propiedades",class:"menu-item"},{default:(0,r.k6)((()=>i[7]||(i[7]=[(0,r.eW)("Cargar Propiedades")]))),_:1})):(0,r.Q3)("",!0)]),(0,r.Lk)("button",{onClick:i[0]||(i[0]=(...e)=>l.logout&&l.logout(...e)),class:"logout-button"},"Cerrar Sesión")])]),(0,r.Lk)("div",yi,[i[9]||(i[9]=(0,r.Lk)("h2",null,"Clientes",-1)),(0,r.Lk)("table",wi,[i[8]||(i[8]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID Cliente"),(0,r.Lk)("th",null,"Nombre"),(0,r.Lk)("th",null,"Apellido"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Teléfono"),(0,r.Lk)("th",null,"Dirección"),(0,r.Lk)("th",null,"Distrito"),(0,r.Lk)("th",null,"País"),(0,r.Lk)("th",null,"Acciones")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.clients,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id_cliente},[(0,r.Lk)("td",null,(0,p.v_)(e.id_cliente),1),(0,r.Lk)("td",null,(0,p.v_)(e.nombre),1),(0,r.Lk)("td",null,(0,p.v_)(e.apellido),1),(0,r.Lk)("td",null,(0,p.v_)(e.email),1),(0,r.Lk)("td",null,(0,p.v_)(e.telefono),1),(0,r.Lk)("td",null,(0,p.v_)(e.direccion),1),(0,r.Lk)("td",null,(0,p.v_)(e.distrito_nombre),1),(0,r.Lk)("td",null,(0,p.v_)(e.pais_nombre),1),(0,r.Lk)("td",null,[(0,r.Lk)("img",{src:Oe,alt:"Editar",title:"Editar",class:"action-icon",onClick:i=>l.editClient(e)},null,8,Ci),(0,r.Lk)("img",{src:Xe,alt:"Eliminar",title:"Eliminar",class:"action-icon",onClick:i=>l.deleteClient(e.id_cliente)},null,8,Ei)])])))),128))])])]),(0,r.Lk)("div",Si,[(0,r.Lk)("button",{class:"add-client-button",onClick:i[1]||(i[1]=(...e)=>l.openAddClientForm&&l.openAddClientForm(...e))},"Agregar Cliente")]),(0,r.bF)(n,{visible:a.showOverlay,isEditing:a.isEditing,clientData:a.selectedClient,distritos:a.distritos,paises:a.paises,onClose:i[2]||(i[2]=e=>a.showOverlay=!1),onAddClient:l.addClient,onUpdateClient:l.updateClient},null,8,["visible","isEditing","clientData","distritos","paises","onAddClient","onUpdateClient"])])}const Fi={key:0,class:"overlay"},Ai={class:"overlay-content"},Oi={class:"form-row"},Ui={class:"form-row"},Xi={class:"form-row"},qi={class:"form-row"},Di={class:"form-row"},Ti={class:"form-row"},Ni=["value"],Wi={class:"form-row"},Pi=["value"],Ri={class:"form-row form-actions"},Vi={type:"submit"};function zi(e,i,t,a,l,s){return t.visible?((0,r.uX)(),(0,r.CE)("div",Fi,[(0,r.Lk)("div",Ai,[(0,r.Lk)("h3",null,(0,p.v_)(t.isEditing?"Editar Cliente":"Agregar Cliente"),1),(0,r.Lk)("form",{onSubmit:i[8]||(i[8]=(0,o.D$)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"])),class:"form-container"},[(0,r.Lk)("div",Oi,[i[9]||(i[9]=(0,r.Lk)("label",null,"Nombre:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>l.client.nombre=e),required:""},null,512),[[o.Jo,l.client.nombre]])]),(0,r.Lk)("div",Ui,[i[10]||(i[10]=(0,r.Lk)("label",null,"Apellido:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":i[1]||(i[1]=e=>l.client.apellido=e),required:""},null,512),[[o.Jo,l.client.apellido]])]),(0,r.Lk)("div",Xi,[i[11]||(i[11]=(0,r.Lk)("label",null,"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":i[2]||(i[2]=e=>l.client.email=e),required:""},null,512),[[o.Jo,l.client.email]])]),(0,r.Lk)("div",qi,[i[12]||(i[12]=(0,r.Lk)("label",null,"Teléfono:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"tel","onUpdate:modelValue":i[3]||(i[3]=e=>l.client.telefono=e),required:""},null,512),[[o.Jo,l.client.telefono]])]),(0,r.Lk)("div",Di,[i[13]||(i[13]=(0,r.Lk)("label",null,"Dirección:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":i[4]||(i[4]=e=>l.client.direccion=e),required:""},null,512),[[o.Jo,l.client.direccion]])]),(0,r.Lk)("div",Ti,[i[14]||(i[14]=(0,r.Lk)("label",null,"Distrito:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":i[5]||(i[5]=e=>l.client.id_distrito=e),required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.distritos,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id_distrito,value:e.id_distrito},(0,p.v_)(e.nombre_distrito),9,Ni)))),128))],512),[[o.u1,l.client.id_distrito]])]),(0,r.Lk)("div",Wi,[i[15]||(i[15]=(0,r.Lk)("label",null,"País:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":i[6]||(i[6]=e=>l.client.id_pais=e),required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.paises,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id_pais,value:e.id_pais},(0,p.v_)(e.nombre_pais),9,Pi)))),128))],512),[[o.u1,l.client.id_pais]])]),(0,r.Lk)("div",Ri,[(0,r.Lk)("button",Vi,(0,p.v_)(t.isEditing?"Actualizar":"Agregar"),1),(0,r.Lk)("button",{type:"button",onClick:i[7]||(i[7]=(...e)=>s.closeOverlay&&s.closeOverlay(...e))},"Cancelar")])],32)])])):(0,r.Q3)("",!0)}var $i={props:{visible:Boolean,isEditing:Boolean,clientData:Object,distritos:Array,paises:Array},data(){return{client:{nombre:"",apellido:"",email:"",telefono:"",direccion:"",id_distrito:null,id_pais:null}}},watch:{clientData:{immediate:!0,handler(e){e&&this.isEditing?this.client={...e}:this.isEditing||(this.client={nombre:"",apellido:"",email:"",telefono:"",direccion:"",id_distrito:null,id_pais:null})}}},methods:{handleSubmit(){this.$emit(this.isEditing?"update-client":"add-client",this.client)},closeOverlay(){this.$emit("close")}}};const Ji=(0,n.A)($i,[["render",zi],["__scopeId","data-v-c0fb3204"]]);var Mi=Ji,ji={components:{FormClienteOverlay:Mi},data(){return{userName:"",userType:"",id_broker:null,clients:[],showOverlay:!1,isEditing:!1,selectedClient:null,brokers:[],distritos:[],paises:[]}},async created(){const e=JSON.parse(localStorage.getItem("user"));e&&e.id?(await this.fetchUserData(e.id),await this.fetchDropdownData(),await this.fetchClients()):this.$router.push({name:"Login"})},methods:{async fetchUserData(e){try{const{data:i,error:t}=await C.from("broker").select("*").eq("user_id",e).single();if(t)throw t;i&&(this.userName=i.nombre,this.userType="Broker",this.id_broker=i.id_broker)}catch(i){console.error("Error fetching user data:",i.message)}},async fetchDropdownData(){try{const{data:e}=await C.from("distrito").select("id_distrito, nombre_distrito"),{data:i}=await C.from("pais").select("id_pais, nombre_pais");this.distritos=e||[],this.paises=i||[]}catch(e){console.error("Error fetching dropdown data:",e.message)}},async fetchClients(){try{const{data:e,error:i}=await C.from("cliente").select("\n              id_cliente, nombre, apellido, email, telefono, direccion,\n              id_distrito (nombre_distrito),\n              id_pais (nombre_pais)\n            ").eq("broker_asociado",this.id_broker);if(i)throw i;this.clients=e.map((e=>({id_cliente:e.id_cliente,nombre:e.nombre,apellido:e.apellido,email:e.email,telefono:e.telefono,direccion:e.direccion,id_distrito:e.id_distrito?e.id_distrito:null,id_pais:e.id_pais?e.id_pais:null,distrito_nombre:e.id_distrito?e.id_distrito.nombre_distrito:"",pais_nombre:e.id_pais?e.id_pais.nombre_pais:""})))}catch(e){console.error("Error fetching clients:",e.message)}},openAddClientForm(){this.selectedClient={nombre:"",apellido:"",email:"",telefono:"",direccion:"",id_distrito:null,id_pais:null},this.isEditing=!1,this.showOverlay=!0},editClient(e){this.selectedClient={...e},this.isEditing=!0,this.showOverlay=!0},async addClient(e){try{const i={nombre:e.nombre,apellido:e.apellido,email:e.email,telefono:e.telefono,direccion:e.direccion,id_distrito:e.id_distrito,id_pais:e.id_pais,broker_asociado:this.id_broker},{data:t,error:o}=await C.from("cliente").insert([i]);if(o)throw o;this.showOverlay=!1,await this.fetchClients()}catch(i){console.error("Error adding client:",i.message)}},async updateClient(e){try{const{error:i}=await C.from("cliente").update({nombre:e.nombre,apellido:e.apellido,email:e.email,telefono:e.telefono,direccion:e.direccion,id_distrito:e.id_distrito,id_pais:e.id_pais}).eq("id_cliente",e.id_cliente);if(i)throw i;this.showOverlay=!1,this.isEditing=!1,await this.fetchClients()}catch(i){console.error("Error updating client:",i.message)}},async deleteClient(e){try{const{error:i}=await C.from("cliente").delete().eq("id_cliente",e);if(i)throw i;await this.fetchClients()}catch(i){console.error("Error deleting client:",i.message)}},async logout(){const{error:e}=await C.auth.signOut();e?console.error("Error al cerrar sesión:",e.message):(localStorage.removeItem("user"),this.$router.push({name:"Login"}))}}};const xi=(0,n.A)(ji,[["render",Ii],["__scopeId","data-v-703aa86a"]]);var Qi=xi;const Bi={class:"detalle-solicitud"},Ki={key:0,class:"card"},Zi={class:"card-section"},Gi={class:"card-section"},Hi={class:"card-section"},Yi={class:"action-buttons"},et={class:"archivos-section"},it={class:"archivos-table"},tt=["href"];function ot(e,i,t,o,a,l){const s=(0,r.g2)("NavBar"),n=(0,r.g2)("UploadFileOverlay"),d=(0,r.g2)("RechazoOverlay");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(s),(0,r.Lk)("div",Bi,[i[25]||(i[25]=(0,r.Lk)("h2",{class:"detalle-solicitud-title"},"Detalles de la Solicitud",-1)),a.solicitud?((0,r.uX)(),(0,r.CE)("div",Ki,[(0,r.Lk)("div",Zi,[i[11]||(i[11]=(0,r.Lk)("h3",null,"Información de la Solicitud",-1)),(0,r.Lk)("p",null,[i[7]||(i[7]=(0,r.Lk)("strong",null,"ID Solicitud:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.id_solicitud),1)]),(0,r.Lk)("p",null,[i[8]||(i[8]=(0,r.Lk)("strong",null,"Fecha:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.fecha_solicitud),1)]),(0,r.Lk)("p",null,[i[9]||(i[9]=(0,r.Lk)("strong",null,"Estado:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.estado),1)]),(0,r.Lk)("p",null,[i[10]||(i[10]=(0,r.Lk)("strong",null,"Tipo:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.tipo),1)])]),(0,r.Lk)("div",Gi,[i[18]||(i[18]=(0,r.Lk)("h3",null,"Cliente",-1)),(0,r.Lk)("p",null,[i[12]||(i[12]=(0,r.Lk)("strong",null,"Nombre:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.cliente_nombre),1)]),(0,r.Lk)("p",null,[i[13]||(i[13]=(0,r.Lk)("strong",null,"Email:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.cliente_email),1)]),(0,r.Lk)("p",null,[i[14]||(i[14]=(0,r.Lk)("strong",null,"Teléfono:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.cliente_telefono),1)]),(0,r.Lk)("p",null,[i[15]||(i[15]=(0,r.Lk)("strong",null,"Dirección:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.cliente_direccion),1)]),(0,r.Lk)("p",null,[i[16]||(i[16]=(0,r.Lk)("strong",null,"Distrito:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.cliente_distrito),1)]),(0,r.Lk)("p",null,[i[17]||(i[17]=(0,r.Lk)("strong",null,"País:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.cliente_pais),1)])]),(0,r.Lk)("div",Hi,[i[22]||(i[22]=(0,r.Lk)("h3",null,"Información Adicional",-1)),(0,r.Lk)("p",null,[i[19]||(i[19]=(0,r.Lk)("strong",null,"Broker:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.broker_nombre),1)]),(0,r.Lk)("p",null,[i[20]||(i[20]=(0,r.Lk)("strong",null,"Inmobiliaria:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.inmobiliaria_nombre),1)]),(0,r.Lk)("p",null,[i[21]||(i[21]=(0,r.Lk)("strong",null,"Propiedad:",-1)),(0,r.eW)(" "+(0,p.v_)(a.solicitud.propiedad_titulo),1)])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",Yi,[(0,r.Lk)("button",{onClick:i[0]||(i[0]=(...e)=>l.takeRequest&&l.takeRequest(...e)),class:"action-button"},"Tomar Solicitud"),(0,r.Lk)("button",{onClick:i[1]||(i[1]=(...e)=>l.approveRequest&&l.approveRequest(...e)),class:"action-button"},"Aprobar Solicitud"),(0,r.Lk)("button",{onClick:i[2]||(i[2]=e=>a.showRechazoOverlay=!0),class:"action-button"},"Rechazar Solicitud"),(0,r.Lk)("button",{onClick:i[3]||(i[3]=e=>a.showOverlay=!0),class:"action-button"},"Agregar Archivo")]),a.showOverlay?((0,r.uX)(),(0,r.Wv)(n,{key:1,idSolicitud:a.solicitud.id_solicitud,onClose:i[4]||(i[4]=e=>a.showOverlay=!1),onFileUploaded:l.fetchArchivos},null,8,["idSolicitud","onFileUploaded"])):(0,r.Q3)("",!0),(0,r.Lk)("div",et,[i[24]||(i[24]=(0,r.Lk)("h3",null,"Archivos Asociados a la Solicitud",-1)),(0,r.Lk)("table",it,[i[23]||(i[23]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Archivo"),(0,r.Lk)("th",null,"Acciones")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.archivos,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,p.v_)(e.nombre),1),(0,r.Lk)("td",null,[(0,r.Lk)("a",{href:e.url,target:"_blank",class:"download-link"},"Descargar",8,tt)])])))),128))])])]),a.showOverlay?((0,r.uX)(),(0,r.Wv)(n,{key:2,idSolicitud:a.solicitud.id_solicitud,onClose:i[5]||(i[5]=e=>a.showOverlay=!1),onFileUploaded:l.fetchArchivos},null,8,["idSolicitud","onFileUploaded"])):(0,r.Q3)("",!0),a.showRechazoOverlay?((0,r.uX)(),(0,r.Wv)(d,{key:3,onClose:i[6]||(i[6]=e=>a.showRechazoOverlay=!1),onRechazoSubmitted:l.handleRechazo},null,8,["onRechazoSubmitted"])):(0,r.Q3)("",!0)])],64)}const rt={class:"upload-overlay"},at={class:"overlay-content"},lt=["disabled"];function st(e,i,t,o,a,l){return(0,r.uX)(),(0,r.CE)("div",rt,[(0,r.Lk)("div",at,[i[3]||(i[3]=(0,r.Lk)("h3",null,"Subir Archivo",-1)),(0,r.Lk)("input",{type:"file",onChange:i[0]||(i[0]=(...e)=>l.handleFileChange&&l.handleFileChange(...e))},null,32),(0,r.Lk)("button",{onClick:i[1]||(i[1]=(...e)=>l.uploadFile&&l.uploadFile(...e)),disabled:!a.archivo},"Subir",8,lt),(0,r.Lk)("button",{onClick:i[2]||(i[2]=i=>e.$emit("close"))},"Cancelar")])])}var nt={props:["idSolicitud"],data(){return{archivo:null}},methods:{handleFileChange(e){this.archivo=e.target.files[0]},sanitizeFileName(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9._-]/g,"_")},async uploadFile(){if(!this.archivo)return;const e=this.sanitizeFileName(this.archivo.name),i=`uploads/${this.idSolicitud}/${Date.now()}_${e}`;try{const{data:e,error:t}=await C.storage.from("Archivos").upload(i,this.archivo);if(t)throw t;const o=C.storage.from("Archivos").getPublicUrl(i).data.publicUrl,{error:r}=await C.from("Archivos").insert([{id_solicitud:this.idSolicitud,url:o}]);if(r)throw r;alert("Archivo subido y registrado exitosamente."),this.$emit("fileUploaded")}catch(t){console.error("Error al subir el archivo:",t.message),alert("Error al subir el archivo. Intente nuevamente.")}}}};const dt=(0,n.A)(nt,[["render",st],["__scopeId","data-v-5d611486"]]);var ct=dt;const ut={class:"overlay"},pt={class:"overlay-content"},mt={class:"buttons"};function ht(e,i,t,a,l,s){return(0,r.uX)(),(0,r.CE)("div",ut,[(0,r.Lk)("div",pt,[i[3]||(i[3]=(0,r.Lk)("h3",null,"Rechazar Solicitud",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":i[0]||(i[0]=e=>l.comentario=e),placeholder:"Escriba el motivo del rechazo..."},null,512),[[o.Jo,l.comentario]]),(0,r.Lk)("div",mt,[(0,r.Lk)("button",{onClick:i[1]||(i[1]=(...e)=>s.submitRechazo&&s.submitRechazo(...e))},"Confirmar"),(0,r.Lk)("button",{onClick:i[2]||(i[2]=i=>e.$emit("close"))},"Cancelar")])])])}var bt={data(){return{comentario:""}},methods:{submitRechazo(){this.$emit("rechazoSubmitted",this.comentario),this.$emit("close")}}};const kt=(0,n.A)(bt,[["render",ht],["__scopeId","data-v-7ec49e84"]]);var ft=kt,vt={components:{NavBar:Ke,RechazoOverlay:ft,UploadFileOverlay:ct},props:["id_solicitud"],data(){return{solicitud:null,archivos:[],userType:JSON.parse(localStorage.getItem("user")).type,userId:JSON.parse(localStorage.getItem("user")).id,showOverlay:!1,showRechazoOverlay:!1}},async created(){await this.fetchSolicitudDetails(),await this.fetchArchivos()},methods:{async fetchSolicitudDetails(){try{const{data:e,error:i}=await C.from("solicitud").select("\n              id_solicitud, fecha_solicitud, estado, tipo,\n              id_inmobiliaria, id_cliente,\n              cliente:id_cliente (\n                nombre, apellido, email, telefono, direccion,\n                distrito:id_distrito(nombre_distrito),\n                pais:id_pais(nombre_pais)\n              ),\n              broker:id_broker (nombre),\n              inmobiliaria:id_inmobiliaria (nombre),\n              propiedad:id_propiedad (titulo)\n            ").eq("id_solicitud",this.id_solicitud).single();if(i)throw i;this.solicitud={id_solicitud:e.id_solicitud,fecha_solicitud:e.fecha_solicitud,estado:e.estado,tipo:e.tipo,id_inmobiliaria:e.id_inmobiliaria,id_cliente:e.id_cliente,cliente_nombre:e.cliente?`${e.cliente.nombre} ${e.cliente.apellido}`:"",cliente_email:e.cliente?e.cliente.email:"",cliente_telefono:e.cliente?e.cliente.telefono:"",cliente_direccion:e.cliente?e.cliente.direccion:"",cliente_distrito:e.cliente?e.cliente.distrito.nombre_distrito:"",cliente_pais:e.cliente?e.cliente.pais.nombre_pais:"",broker_nombre:e.broker?e.broker.nombre:"",inmobiliaria_nombre:e.inmobiliaria?e.inmobiliaria.nombre:"",propiedad_titulo:e.propiedad?e.propiedad.titulo:""}}catch(e){console.error("Error fetching solicitud details:",e.message)}},async fetchArchivos(){try{const{data:e,error:i}=await C.from("Archivos").select("id, url").eq("id_solicitud",this.id_solicitud);if(i)throw i;this.archivos=e.map((e=>({id:e.id,url:e.url,nombre:e.url.split("/").pop()})))}catch(e){console.error("Error fetching archivos:",e.message)}},async takeRequest(){await this.updateSolicitudEstado("En Proceso")},async approveRequest(){"Nuevo Cliente"===this.solicitud.tipo&&await this.updateClientApprovalStatus(!0),await this.updateSolicitudEstado("Aprobada")},async rejectRequest(){"Nuevo Cliente"===this.solicitud.tipo&&await this.updateClientApprovalStatus(!1),await this.updateSolicitudEstado("Rechazado")},async updateClientApprovalStatus(e){try{const{error:i}=await C.from("cliente").update({Aprobado_Inmobiliaria:e}).eq("id_cliente",this.solicitud.id_cliente);if(i)throw i;alert(`El cliente ha sido ${e?"aprobado":"desaprobado"} exitosamente.`)}catch(i){console.error("Error al actualizar el estado de aprobación del cliente:",i.message)}},async updateSolicitudEstado(e){try{const{error:i}=await C.from("solicitud").update({estado:e}).eq("id_solicitud",this.solicitud.id_solicitud);if(i)throw i;this.solicitud.estado=e,alert(`La solicitud ha sido actualizada a: ${e}`)}catch(i){console.error("Error al actualizar el estado de la solicitud:",i.message)}},handleFileUploaded(){this.showOverlay=!1,this.fetchArchivos(),alert("Archivo subido y guardado correctamente.")},async rejectRequest(e){try{const{error:i}=await C.from("solicitud").update({estado:"Rechazado",comentario_rechazo:e}).eq("id_solicitud",this.solicitud.id_solicitud);if(i)throw i;this.solicitud.estado="Rechazado",alert("La solicitud ha sido rechazada.")}catch(i){console.error("Error al rechazar la solicitud:",i.message)}},handleRechazo(e){this.rejectRequest(e),this.showRechazoOverlay=!1}}};const _t=(0,n.A)(vt,[["render",ot],["__scopeId","data-v-12dbddc9"]]);var gt=_t;const Lt=[{path:"/",name:"Login",component:W},{path:"/home",name:"Home",component:I},{path:"/registro",name:"Registro",component:Q},{path:"/registroc",name:"RegistroC",component:ue},{path:"/marketplace",name:"MarketPlace",component:Ae},{path:"/solicitudes",name:"Solicitudes",component:bi},{path:"/clientes",name:"Clientes",component:Qi},{path:"/solicitud/:id_solicitud",name:"DetalleSolicitud",component:gt,props:!0}],yt=(0,u.aE)({history:(0,u.LA)(),routes:Lt});var wt=yt;t(777);(0,o.Ef)(c).use(wt).mount("#app")}},i={};function t(o){var r=i[o];if(void 0!==r)return r.exports;var a=i[o]={exports:{}};return e[o].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(i,o,r,a){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],a=e[c][2];for(var s=!0,n=0;n<o.length;n++)(!1&a||l>=a)&&Object.keys(t.O).every((function(e){return t.O[e](o[n])}))?o.splice(n--,1):(s=!1,a<l&&(l=a));if(s){e.splice(c--,1);var d=r();void 0!==d&&(i=d)}}return i}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}}(),function(){t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,{a:i}),i}}(),function(){var e,i=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var a=Object.create(null);t.r(a);var l={};e=e||[null,i({}),i([]),i(i)];for(var s=2&r&&o;"object"==typeof s&&!~e.indexOf(s);s=i(s))Object.getOwnPropertyNames(s).forEach((function(e){l[e]=function(){return o[e]}}));return l["default"]=function(){return o},t.d(a,l),a}}(),function(){t.d=function(e,i){for(var o in i)t.o(i,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(i,o){return t.f[o](e,i),i}),[]))}}(),function(){t.u=function(e){return"js/"+e+".5b49bf8e.js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){var e={},i="frontend:";t.l=function(o,r,a,l){if(e[o])e[o].push(r);else{var s,n;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==i+a){s=u;break}}s||(n=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",i+a),s.src=o),e[o]=[r];var p=function(i,t){s.onerror=s.onload=null,clearTimeout(m);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(t)})),i)return i(t)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),n&&document.head.appendChild(s)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.f.j=function(i,o){var r=t.o(e,i)?e[i]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(t,o){r=e[i]=[t,o]}));o.push(r[2]=a);var l=t.p+t.u(i),s=new Error,n=function(o){if(t.o(e,i)&&(r=e[i],0!==r&&(e[i]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),l=o&&o.target&&o.target.src;s.message="Loading chunk "+i+" failed.\n("+a+": "+l+")",s.name="ChunkLoadError",s.type=a,s.request=l,r[1](s)}};t.l(l,n,"chunk-"+i,i)}},t.O.j=function(i){return 0===e[i]};var i=function(i,o){var r,a,l=o[0],s=o[1],n=o[2],d=0;if(l.some((function(i){return 0!==e[i]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(n)var c=n(t)}for(i&&i(o);d<l.length;d++)a=l[d],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(i.bind(null,0)),o.push=i.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(635)}));o=t.O(o)})();
//# sourceMappingURL=app.8b3471b2.js.map